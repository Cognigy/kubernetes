apiVersion: apps/v1
kind: Deployment
metadata:
  name: service-handover
spec:
  selector:
    matchLabels:
      app: service-handover
  replicas: 1
  template:
    metadata:
      labels:
        app: service-handover
    spec:
      containers:
      - image: docker.cognigy.com:5000/service-handover:193513c655ce7f3c2d125667a7d6320eb7f17ab5
        name: service-handover
        resources:
          requests:
            memory: "50Mi"
            cpu: "46m"
          limits:
            memory: "75Mi"
            cpu: "46m"
        envFrom:
        - configMapRef:
            name: cognigy-env
        env:
        - name: HANDOVER_DB_PASSWORD
          valueFrom:
            secretKeyRef:
              name: cognigy-service-handover
              key: db-password
        - name: RABBITMQ_PASSWORD
          valueFrom:
            secretKeyRef:
              name: cognigy-rabbitmq
              key: rabbitmq-password
      imagePullSecrets:
      - name: cognigy-registry-token