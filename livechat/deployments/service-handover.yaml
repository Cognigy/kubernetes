apiVersion: apps/v1
kind: Deployment
metadata:
    name: service-handover
spec:
    replicas: 1
    strategy:
        type: RollingUpdate
    selector:
        matchLabels:
            app: service-handover
    template:
        metadata:
            labels:
                app: service-handover
        spec:
        containers:
            - image: docker.cognigy.com:5000/service-handover:59ab503ee3c18e32533c65f66ee559c3a19ca99d
              name: service-handover
              resources:
                requests:
                    memory: "50Mi"
                    cpu: "46m"
                limits:
                    memory: "75Mi"
                    cpu: "46m"
              envFrom:
                - configMapRef:
                    name: cognigy-env
              env:
                - name: HANDOVER_DB_PASSWORD
                  valueFrom:
                    secretKeyRef:
                    name: cognigy-service-handover
                    key: db-password
                - name: RABBITMQ_PASSWORD
                  valueFrom:
                    secretKeyRef:
                    name: cognigy-rabbitmq
                    key: rabbitmq-password
        imagePullSecrets:
            - name: cognigy-registry-token